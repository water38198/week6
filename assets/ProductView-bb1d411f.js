import{_ as m,o as i,c as n,d as t,t as c,F as u,f as _,h as v,v as g}from"./index-e0998396.js";const{VITE_URL:p,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},y={data(){return{product:{},loader:{},qty:1}},methods:{getProduct(){const{id:d}=this.$route.params;let o=this.$loading.show();this.$http.get(`${p}/v2/api/${h}/product/${d}`).then(r=>{this.product=r.data.product,o.hide()}).catch(r=>console.log(r))},addToCart(d,o=1){const r={product_id:d,qty:o};this.$http.post(`${p}/v2/api/${h}/cart`,{data:r}).then(l=>{console.log(l)}).catch(l=>{console.log(l)})}},mounted(){this.getProduct()}},f={class:"text-center mb-3"},x={class:"row mb-5"},b={class:"col-5"},k={class:"text-center"},V=["src"],w={class:"mt-2"},E=["src"],T={class:"col-7 d-flex flex-column"},P=t("div",{class:"h3"},"內容物:",-1),U={class:"p-2"},D=t("div",{class:"h3"},"商品敘述:",-1),R={class:"p-2"},S=t("div",{class:"h3"},"價格:",-1),B={key:0,class:"h5 p-2"},C={key:1,class:"p-2"},I={class:"h6 text-secondary"},L={class:"h4"},q=t("div",{class:"h3"},"剩餘數量:",-1),A={class:"p-2"},F={class:"input-group mt-auto mb-3 w-75"},H=["value"],M={class:"text-start"};function O(d,o,r,l,s,a){return i(),n(u,null,[t("h1",f,c(s.product.title),1),t("div",x,[t("div",b,[t("div",k,[t("img",{src:s.product.imageUrl,alt:"",class:"img-fluid"},null,8,V)]),t("div",w,[(i(!0),n(u,null,_(s.product.imagesUrl,e=>(i(),n("img",{src:e,alt:"",key:e,class:"product-images me-1"},null,8,E))),128))])]),t("div",T,[P,t("p",U,c(s.product.content),1),D,t("p",R,c(s.product.description),1),S,s.product.origin_price===s.product.price?(i(),n("div",B,c(s.product.price)+"元 ",1)):(i(),n("div",C,[t("del",I,"原價"+c(s.product.origin_price)+"元",1),t("div",L,"現在只要"+c(s.product.price)+"元",1)])),q,t("p",A,c(s.product.num)+" "+c(s.product.unit),1),t("div",F,[v(t("select",{class:"form-select","onUpdate:modelValue":o[0]||(o[0]=e=>s.qty=e)},[(i(!0),n(u,null,_(s.product.num,e=>(i(),n("option",{key:e,value:e},c(e),9,H))),128))],512),[[g,s.qty]]),t("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=e=>a.addToCart(s.product.id))}," 加入購物車 ")]),t("div",M,[t("button",{class:"btn btn-outline-secondary w-25",onClick:o[2]||(o[2]=e=>this.$router.go(-1))}," 返回 ")])])])],64)}const j=m(y,[["render",O]]);export{j as default};
