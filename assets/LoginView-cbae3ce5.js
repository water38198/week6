import{_,r as l,o as h,c as V,d as e,e as t,w as f,n as u}from"./index-18bbf854.js";const{VITE_URL:w}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b={data(){return{user:{}}},methods:{login(){this.$http.post(`${w}/v2/admin/signin`,{username:this.user.account,password:this.user.password}).then(o=>{console.log(o);const{expired:s,token:c}=o.data;document.cookie=`myToken=${c}; expires=${new Date(s)}`,alert("登入成功"),this.$router.push("/admin/products")}).catch(o=>{console.log(o),alert("登入失敗")})}}},v={class:"row justify-content-center"},x={class:"col-4"},E=e("h2",{class:"text-center"},"登入",-1),g={class:"mb-3"},k=e("label",{for:"account",class:"h5"},"帳號:",-1),y={class:"mb-3"},R=e("label",{for:"password",class:"h5"},"密碼:",-1),S=e("div",{class:"text-center"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"登入")],-1);function T(o,s,c,U,n,m){const r=l("VField"),i=l("ErrorMessage"),p=l("VForm");return h(),V("div",v,[e("div",x,[E,t(p,{onSubmit:m.login,class:"my-5"},{default:f(({errors:d})=>[e("div",g,[k,t(r,{id:"account",name:"帳號",type:"text",class:u(["form-control",{"is-invalid":d.帳號}]),placeholder:"請輸入 帳號",rules:"required|email",modelValue:n.user.account,"onUpdate:modelValue":s[0]||(s[0]=a=>n.user.account=a)},null,8,["class","modelValue"]),t(i,{name:"帳號",class:"invalid-feedback"})]),e("div",y,[R,t(r,{id:"password",name:"密碼",type:"password",class:u(["form-control",{"is-invalid":d.密碼}]),placeholder:"請輸入 密碼",rules:"required",modelValue:n.user.password,"onUpdate:modelValue":s[1]||(s[1]=a=>n.user.password=a)},null,8,["class","modelValue"]),t(i,{name:"密碼",class:"invalid-feedback"})]),S]),_:1},8,["onSubmit"])])])}const D=_(b,[["render",T]]);export{D as default};
