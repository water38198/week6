import{_ as m,o as i,c as r,d as t,t as c,F as l,f as u,h as v,v as g}from"./index-f4ac1680.js";const{VITE_URL:p,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},f={data(){return{product:{},loader:{},qty:1}},methods:{getProduct(){const{id:n}=this.$route.params;this.$http.get(`${p}/v2/api/${h}/product/${n}`).then(o=>{this.product=o.data.product,this.loader.hide()}).catch(o=>console.log(o))},addToCart(n,o=1){const _={product_id:n,qty:o};this.$http.post(`${p}/v2/api/${h}/cart`,{data:_}).then(d=>{console.log(d)}).catch(d=>{console.log(d)})}},mounted(){this.loader=this.$loading.show(),this.getProduct()}},y={class:"text-center mb-3"},x={class:"row mb-5"},V={class:"col-5"},E={class:"text-center"},T=["src"],b={class:"mt-2"},k=["src"],P={class:"col-7 d-flex flex-column"},w=t("div",{class:"h3"},"內容物:",-1),U={class:"p-2"},D=t("div",{class:"h3"},"商品敘述:",-1),R={class:"p-2"},S=t("div",{class:"h3"},"價格:",-1),B={key:0,class:"h5 p-2"},I={key:1,class:"p-2"},L={class:"h6 text-secondary"},q={class:"h4"},A=t("div",{class:"h3"},"剩餘數量:",-1),C={class:"p-2"},F={class:"input-group mt-auto mb-3 w-75"},H=["value"];function M(n,o,_,d,s,a){return i(),r(l,null,[t("h1",y,c(s.product.title),1),t("div",x,[t("div",V,[t("div",E,[t("img",{src:s.product.imageUrl,alt:"",class:"img-fluid"},null,8,T)]),t("div",b,[(i(!0),r(l,null,u(s.product.imagesUrl,e=>(i(),r("img",{src:e,alt:"",key:e,class:"product-images me-1"},null,8,k))),128))])]),t("div",P,[w,t("p",U,c(s.product.content),1),D,t("p",R,c(s.product.description),1),S,s.product.origin_price===s.product.price?(i(),r("div",B,c(s.product.price)+"元 ",1)):(i(),r("div",I,[t("del",L,"原價"+c(s.product.origin_price)+"元",1),t("div",q,"現在只要"+c(s.product.price)+"元",1)])),A,t("p",C,c(s.product.num)+" "+c(s.product.unit),1),t("div",F,[v(t("select",{class:"form-select","onUpdate:modelValue":o[0]||(o[0]=e=>s.qty=e)},[(i(!0),r(l,null,u(s.product.num,e=>(i(),r("option",{key:e,value:e},c(e),9,H))),128))],512),[[g,s.qty]]),t("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=e=>a.addToCart(s.product.id))}," 加入購物車 ")])])])],64)}const N=m(f,[["render",M]]);export{N as default};
